<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"
        defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"
        defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"
        integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"
        defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <!-- Clase y estilos propios-->
    <link href="../static/css/style.css" rel="stylesheet" th:href="@{/css/style.css}">
    <link href="../static/css/form.css" rel="stylesheet" th:href="@{/css/form.css}"> 
    <script src="../static/script/navbar.js" th:src="@{/script/formulario.js}" defer ></script>
    <script src="../static/script/formulario.js" th:src="@{/script/navbar.js}" defer></script>

    <title> Chess </title>
</head>

<body class="body_fondo1">
    <div class="body_fondo_suavizado">
        <header class="p-0">
            <div class="container-fluid" id="nav_bar">
                <div class="row ">
                    <!-- Contenedor del banner -->
                    <div class="col-12 logo d-flex banner_con_margin">
                        <div class="d-flex col-12 row-padding" id="banner">
                            <a href="index.html" th:href="@{/}" class="d-flex col-xl-4 col-md-10 col-12 mx-auto">
                                <div class="logoD col-md-5 col-12"></div>
                                <div class="col-8 text-white tipo_letra titulo d-none d-md-block font_bold">Life's chess
                                </div>
                            </a>
                        </div>
                    </div>
                    <!-- Contenedor del nav -->
                    <!-- Botón desplegable -->
                    <div class="d-block d-md-none boton_menu  text-center d-flex w-100 ">
                        <i class="bi bi-list font-32 col-3 text-white " id="boton_menu_movil"></i>
                        <div class="col-10 "></div>
                    </div>
                    <!-- Fin botón desplegable-->
                    <div class="col-12 pad25 display_none d-md-block" id="menu_desplegable">
                        <nav class="nav_bar bgcolor" id="bg_menu">
                            <ul class="d-md-flex d-block tipo_letra menu text-white font_bold" id="caja_menu">
                                <li class=""><a href="index.html" th:href="@{/}">HOME</a></li>
                                <li class=""><a href="formulario_socio.html" th:href="@{/agregar_socio}">SOCIOS</a> </li>
                                <li class="white_border">RATING
                                    <!-- Contenedor submenu -->
                                    <ul class="submenu submenu_estetica" id="caja_submenu">
                                        <li class="">Standard</li>
                                        <li class="">Rapid</li>
                                        <li class="">Bitz</li>
                                    </ul>
                                </li>
                                <li class=""><a href="formulario_torneo.html" th:href="@{/agregar_torneo}">TORNEOS</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="caja_main mx-auto my-auto ">
                <div class="row border_radio_15">
                    <div class="columna_principal  col-xxl-6 col-12  row-padding ">
                        <div class="w-100  p-3 h-50">
                            <div class="w-100 h-100 esconder_tabla">
                                <!-- TABLA DE TORNEOS NORMAL-->
                                <table class="table table-striped">
                                    <caption class="caption-top  text-center tipo_letra font-32 text-dark">TORNEOS</caption>
                                    <thead class="table-dark">
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Nombre</th>
                                            <th scope="col" class="columna_no_importante">Ubicación</th>
                                            <th scope="col">Comienzo</th>
                                            <th scope="col" class="columna_no_importante">Tipo</th>
                                            <th scope="col" class="columna_no_importante text-center">Participantes</th>
                                            <th scope="col" class="text-center">Edit</th>
                                            <th scope="col" class="text-center">Delete</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr th:each=" torneo: ${lista_torneo}">
                                            <td th:text="${torneo.id}">21</td>
                                            <td th:text="${torneo.nombre}">Ramón y cajal</td>
                                            <td class="columna_no_importante" th:text="${torneo.lugar}">Sevilla</td>
                                            <td th:text="${torneo.fecha_comienzo}">15/05/2021</td>
                                            <td class="columna_no_importante" th:text="${torneo.tipo_partida}">Standard</td>
                                            <td class="columna_no_importante text-center" th:text="${torneo.participantes_actuales +'/'+ torneo.participantes_maximos}">123/200</td>
                                            <td class="text-center"  ><a th:href="@{/mostrar_torneo/{id}(id=${torneo.id})}" ><i class="bi bi-pencil-square" ></i></a></td>
                                            <td class="text-center" ><a th:href="@{/borrar_torneo/{id}(id=${torneo.id})}"  > <i class="bi bi-trash"></i></a></td>
                                        </tr>
                                              <!-- data-bs-toggle="modal" data-bs-target="#modal_torneo" implementar-->                
                                    </tbody>
                                </table>
                            </div>  
                        </div>
                        <div class="h-50 w-100 ">
                            <div class="w-100  p-3 h-100">
                                <div class="w-100 h-100   d-flex ">
                                    <!-- Formulario Lupa y torneos  -->
                                    <div class="formularioTorneoIndex ">
                                        <div class="caja_buscar">
                                            <form class="buscar mt-3">
                                                <input id="buscar "type="text" name="q" th:value="${param.q}" placeholder="Buscar..." onchange="window.location.href='http://localhost:9000/?q=' + this.value" />
                                                <i class="bi bi-search text-white lupa"></i>
                                            </form>
                                        </div>
                                        <!-- Acaba lupa empieza torneo-->
                                        <div class="w-100 tabla_torneo_index">
                                            <table class="table table-striped esconder_tabla w-100">
                                                <thead class="table-primary">
                                                    <tr>
                                                        <th class="columna_no_importante"> #</th>
                                                        <th> Nombre</th>
                                                        <th class="columna_no_importante"> Ubicación</th>
                                                        <th> Tipo</th>
                                                        <th class="columna_no_importante"> Requerido</th>
                                                        <th > Participantes</th>
                                                        <th> Inscribirse</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr th:each=" torneo: ${lista_torneo}">
                                                        <td class="columna_no_importante" th:text="${torneo.id}">21</td>
                                                        <td th:text="${torneo.nombre}">Córsola</td>
                                                        <td class="columna_no_importante" th:text="${torneo.lugar}">Atlantis</td>
                                                        <td th:text="${torneo.tipo_partida}">Standard</td>
                                                        <td class="text-center columna_no_importante" th:text="${torneo.rating_minimo}">1500</td>
                                                        <td class="text-center" th:text="${torneo.participantes_actuales +'/'+ torneo.participantes_maximos}">127/200</td>
                                                        <td class="text-center"><i class="bi bi-plus-circle"></i></td> 
                                                    </tr>                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <!-- Formulario Socio -->
                                    <div class="formularioSocioIndex d-none d-md-block">
                                        <form class="w-100 h-100"  method="POST" th:action="@{/guardar_socio}" th:object="${socioApuntar}">
                                            <div class="text-center mt-2">
                                                <img src="https://www.istockphoto.com/resources/images/PhotoFTLP/Signature-1205756464.jpg" width="200" height="200"
                                                th:src="*{foto}">
                                            </div>
                                            <div class="text-center mt-3">
                                                <label for="rating_socio_standard_index" >Standard</label><br>
                                                <input  th:field="*{rating_standard}"  type="number" id="rating_socio_standard_index" class="mx-auto form-control w-75"><br>
                                                <label for="rating_socio_rapid_index">Rapid</label><br>
                                                <input th:field="*{rating_rapid}"  type="number" class="form-control w-75 mx-auto" id="rating_socio_rapid_index"><br>
                                                <label for="rating_socio_blitz_index">Blitz</label><br>
                                                <input th:field="*{rating_blitz}"  type="number" class="form-control w-75 mx-auto" id="rating_socio_blitz_index">
                                                <input type="hidden" name="id_socio_index" id="id_socio_index" >
                                            </div>    
                                        </form>
                                    </div>
                                </div>  
                            </div>
                        </div>
                        
                    </div>
                    <div class="columna_secundaria   col-xxl-6 col-12 row-padding">
                        <div class="h-50 w-100 ">
                            <div class="w-100  p-3 h-100">
                                <div class="w-100 h-100 esconder_tabla">
                                    <!-- TABLA DE SOCIOS NORMAL-->
                                    <table class="table table-striped">
                                        <caption class="caption-top  text-center tipo_letra font-32 text-dark">SOCIOS</caption>
                                        <thead class="table-dark">
                                            <tr>
                                                <th scope="col">Nombre</th>
                                                <th scope="col" >Apellido</th>
                                                <th scope="col" class="">Edad</th>
                                                <th scope="col" class="columna_no_importante">Nacionalidad</th>
                                                <th scope="col" class="text-center columna_no_importante">Género</th>
                                                <th scope="col" class="text-center">Edit</th>
                                                <th scope="col" class="text-center">Delete</th>
                                                <th scope="col" class="text-center">Add</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr th:each=" socio: ${lista_socio}">
                                                <td th:text="${socio.nombre}">JuanCarlos</td>
                                                <td th:text="${socio.apellido}">Ruiz</td>
                                                <td th:text="${socio.fecha_nacimiento}">19</td>
                                                <td class="columna_no_importante" th:text="${socio.nacionalidad}">Holanda</td>
                                                <td class="text-center columna_no_importante" th:text="${socio.genero}">M</td>
                                                <td class="text-center" ><a th:href="@{/mostrar_socio/{id}(id=${socio.id})}"><i class="bi bi-pencil-square"></i></a></td>
                                                <td class="text-center" ><a th:href="@{/borrar_socio/{id}(id=${socio.id})}"><i class="bi bi-trash"></i></a></td>
                                                <td class="text-center" ><a th:href="@{/apuntar/{id}(id=${socio.id})}" ><i class="bi bi-trophy"></i> </a></td>
                                            </tr>
                                                   <!--  data-bs-toggle="modal" data-bs-target="#modal_socio" implementar-->               
                                        </tbody>
                                    </table>
                                </div>  
                            </div>
                        </div>
                        <div class="h-50 w-100  container-fluid">
                            <div class="row h-100">
                                <div class="mx-auto w-73  col-12 my-auto">
                                    <div id="carouselExampleIndicators" class="carousel slide  mx-auto  col-12" data-bs-ride="carousel">
                                        <div class="carousel-indicators">
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="0" class="active" aria-current="true"
                                                aria-label="Slide 1"></button>
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="1" aria-label="Slide 2"></button>
                                            <button type="button" data-bs-target="#carouselExampleIndicators"
                                                data-bs-slide-to="2" aria-label="Slide 3"></button>
                                        </div>
                                        <div class="carousel-inner">
                                            <div class="carousel-item active">
                                                <img src="../img/1.jpg" class="d-block w-100" alt="...">
                                            </div>
                                            <div class="carousel-item">
                                                <img src="../img/2.jpg" class="d-block w-100" alt="...">
                                            </div>
                                            <div class="carousel-item">
                                                <img src="../img/3.jpg" class="d-block w-100" alt="...">
                                            </div>
                                        </div>
                                        <button class="carousel-control-prev" type="button"
                                            data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Previous</span>
                                        </button>
                                        <button class="carousel-control-next" type="button"
                                            data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="visually-hidden">Next</span>
                                        </button>
                                    </div>
                                </div>
                            </div>          
                        </div>
                    </div>
                </div>
            </div>
            <!-- MEJORA, añadir modals para no borrar por accidente
  <div class="modal fade" id="modal_socio" tabindex="-1" aria-labelledby="borrado_socio" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="borrado_socio">¿Estás seguro de borrarlo?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Si aceptas, no podrás volver atrás.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <a th:href="@{/borrar_socio/{id}(id=${torneo.id})}"  class="boton_borrado">Borrar</a>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="modal_torneo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">¿Estás seguro de borrarlo?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Si aceptas, no podrás volver atrás.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
          <a th:href="@{/borrar_torneo/{id}(id=${torneo.id})}" class="boton_borrado">Borrar</a>
        </div>
      </div>
    </div>
  </div>
      --> 
        </main>
        <footer class="d-md-flex d-block  border-top border-1 border-white">
            <a href="index.html" th:href="@{/}" class="col-4  d-none d-md-block">
                <div class=" col-12 bg-dark text-center logoD"></div>
            </a>
            <div class="  col-12 bg-dark col-md-4">
                <div class="tipo_letra text-white titulo_footer col-12 ">Contáctanos</div><br>
                <div class="d-flex row contactanos_caja col-9">
                    <div class=" col-1">
                        <i class="bi bi-telephone-fill text-info"></i><br>
                        <i class="bi bi-envelope-fill text-warning"></i><br>
                        <i class="bi bi-google text-danger"></i><br>
                        <i class="bi bi-whatsapp text-success"></i>
                    </div>
                    <div class="col-8">
                        <span class="text-white">954239107</span><br>
                        <span class="text-white">repiso.sapab21@triana.edu</span><br>
                        <span class=" text-white">Sevilla</span><br>
                        <span class="text-white">+34 685690108</span><br>
                    </div>

                </div>
            </div>
            <div class=" col-12 bg-dark col-md-4 ultima">
                <div class="tipo_letra text-white titulo_footer col-12 ">Síguenos</div><br>
                <div class="d-flex row contactanos_caja col-md-8 col-9">
                    <div class=" col-12 font-32">
                        <a href="https://www.facebook.com/"><i class="bi bi-facebook text-primary"></i></a>
                        <a href="https://www.twitch.tv/"><i class="bi bi-twitch text-purple"></i></a>
                        <a href="https://twitter.com/?lang=es"><i class="bi bi-twitter text-info"></i></a>
                        <a href="https://www.instagram.com/"><i class="bi bi-instagram text-white "></i></a>
                    </div>

                </div>
            </div>
        </footer>
    </div>
</body>

</html>